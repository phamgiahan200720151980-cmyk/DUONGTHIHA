<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ã”n Thi THPT Báº±ng AI</title>
  <link rel="stylesheet" href="style.css">
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
  <h1>á»¨ng Dá»¥ng Ã”n Thi THPT Báº±ng AI</h1>

 <div style="margin-bottom: 15px;">
  <label for="subject">Chá»n mÃ´n há»c:</label>
  <select id="subject">
    <option value="toan">ToÃ¡n 12</option>
    <option value="ly">Váº­t LÃ½ 12</option>
  </select>

  <label for="type" style="margin-left: 10px;">Loáº¡i cÃ¢u há»i:</label>
  <select id="type">
    <option value="tuluan">Tá»± luáº­n</option>
    <option value="tracnghiem">Tráº¯c nghiá»‡m</option>
  </select>

  <label style="margin-left: 10px;">
    <input type="checkbox" id="includeAnswer"> Bao gá»“m Ä‘Ã¡p Ã¡n
  </label>

  <button id="generate" style="margin-left: 10px;">Táº¡o bÃ i táº­p ngáº«u nhiÃªn</button>
</div>


<!-- Pháº§n Tá»° LUáº¬N -->
<div id="tuluanBox">
  <div class="symbol-panel">
    <div class="symbol-category">
      <strong>CÃ´ng thá»©c ToÃ¡n há»c (LaTeX):</strong>
      <div class="symbols">
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\frac{a}{b}', 6)" title="PhÃ¢n sá»‘">a/b</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\sqrt{x}', 6)" title="CÄƒn báº­c hai">âˆšx</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\sqrt[n]{x}', 7)" title="CÄƒn báº­c n">â¿âˆšx</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('x^{n}', 3)" title="LÅ©y thá»«a">x^n</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('x_{n}', 3)" title="Chá»‰ sá»‘ dÆ°á»›i">xâ‚™</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\int_{a}^{b}', 7)" title="TÃ­ch phÃ¢n">âˆ«áµ‡â‚</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\lim_{x \\to a}', 12)" title="Giá»›i háº¡n">lim</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\sum_{i=1}^{n}', 11)" title="Tá»•ng">âˆ‘</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\prod_{i=1}^{n}', 11)" title="TÃ­ch">âˆ</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\vec{v}', 5)" title="Vector">vâƒ—</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\overline{AB}', 10)" title="Äoáº¡n tháº³ng">ABÌ…</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\sin', 4)" title="Sin">sin</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\cos', 4)" title="Cos">cos</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\tan', 4)" title="Tan">tan</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\log_{a}', 6)" title="Logarit">log</button>
        <button class="symbol-btn template-btn" onclick="insertTemplate('\\ln', 3)" title="Ln">ln</button>
      </div>
    </div>
    <div class="symbol-category">
      <strong>KÃ½ hiá»‡u ToÃ¡n há»c:</strong>
      <div class="symbols">
        <button class="symbol-btn" onclick="insertSymbol('âˆš')">âˆš</button>
        <button class="symbol-btn" onclick="insertSymbol('âˆ«')">âˆ«</button>
        <button class="symbol-btn" onclick="insertSymbol('âˆ‘')">âˆ‘</button>
        <button class="symbol-btn" onclick="insertSymbol('Ï€')">Ï€</button>
        <button class="symbol-btn" onclick="insertSymbol('Î±')">Î±</button>
        <button class="symbol-btn" onclick="insertSymbol('Î²')">Î²</button>
        <button class="symbol-btn" onclick="insertSymbol('Î³')">Î³</button>
        <button class="symbol-btn" onclick="insertSymbol('Î”')">Î”</button>
        <button class="symbol-btn" onclick="insertSymbol('Î¸')">Î¸</button>
        <button class="symbol-btn" onclick="insertSymbol('Î»')">Î»</button>
        <button class="symbol-btn" onclick="insertSymbol('Î¼')">Î¼</button>
        <button class="symbol-btn" onclick="insertSymbol('Ï‰')">Ï‰</button>
        <button class="symbol-btn" onclick="insertSymbol('âˆ')">âˆ</button>
        <button class="symbol-btn" onclick="insertSymbol('Â±')">Â±</button>
        <button class="symbol-btn" onclick="insertSymbol('â‰¤')">â‰¤</button>
        <button class="symbol-btn" onclick="insertSymbol('â‰¥')">â‰¥</button>
        <button class="symbol-btn" onclick="insertSymbol('â‰ ')">â‰ </button>
        <button class="symbol-btn" onclick="insertSymbol('â‰ˆ')">â‰ˆ</button>
        <button class="symbol-btn" onclick="insertSymbol('Ã—')">Ã—</button>
        <button class="symbol-btn" onclick="insertSymbol('Ã·')">Ã·</button>
        <button class="symbol-btn" onclick="insertSymbol('Â²')">Â²</button>
        <button class="symbol-btn" onclick="insertSymbol('Â³')">Â³</button>
        <button class="symbol-btn" onclick="insertSymbol('âˆ‚')">âˆ‚</button>
        <button class="symbol-btn" onclick="insertSymbol('âˆ‡')">âˆ‡</button>
      </div>
    </div>
    <div class="symbol-category">
      <strong>Váº­t lÃ½:</strong>
      <div class="symbols">
        <button class="symbol-btn" onclick="insertSymbol('Î©')">Î©</button>
        <button class="symbol-btn" onclick="insertSymbol('Ï†')">Ï†</button>
        <button class="symbol-btn" onclick="insertSymbol('Ï')">Ï</button>
        <button class="symbol-btn" onclick="insertSymbol('Ïƒ')">Ïƒ</button>
        <button class="symbol-btn" onclick="insertSymbol('Ï„')">Ï„</button>
        <button class="symbol-btn" onclick="insertSymbol('Îµ')">Îµ</button>
        <button class="symbol-btn" onclick="insertSymbol('Â°')">Â°</button>
      </div>
    </div>
    <div class="symbol-category">
      <strong>KhÃ¡c:</strong>
      <div class="symbols">
        <button class="symbol-btn" onclick="insertSymbol('â†’')">â†’</button>
        <button class="symbol-btn" onclick="insertSymbol('â‡’')">â‡’</button>
        <button class="symbol-btn" onclick="insertSymbol('â‡”')">â‡”</button>
        <button class="symbol-btn" onclick="insertSymbol('âˆˆ')">âˆˆ</button>
        <button class="symbol-btn" onclick="insertSymbol('âˆ‰')">âˆ‰</button>
        <button class="symbol-btn" onclick="insertSymbol('âŠ‚')">âŠ‚</button>
        <button class="symbol-btn" onclick="insertSymbol('âŠƒ')">âŠƒ</button>
        <button class="symbol-btn" onclick="insertSymbol('âˆª')">âˆª</button>
        <button class="symbol-btn" onclick="insertSymbol('âˆ©')">âˆ©</button>
      </div>
    </div>
  </div>
  <div style="margin: 10px auto; width: 80%; text-align: left; font-size: 13px; color: #555;">
    ğŸ’¡ <strong>HÆ°á»›ng dáº«n:</strong> Click vÃ o cÃ´ng thá»©c Ä‘á»ƒ chÃ¨n. Vá»›i cÃ´ng thá»©c LaTeX (dÃ²ng Ä‘áº§u), hÃ£y thay tháº¿ chá»¯ cÃ¡i (a, b, x, n...) báº±ng giÃ¡ trá»‹ cá»§a báº¡n. CÃ´ng thá»©c sáº½ hiá»ƒn thá»‹ bÃªn dÆ°á»›i.
  </div>
  <textarea id="answer" placeholder="Nháº­p cÃ¢u tráº£ lá»i cá»§a báº¡n...&#10;VÃ­ dá»¥: ÄÃ¡p Ã¡n lÃ  $\frac{3}{4}$ hoáº·c $x^{2} + y^{2} = r^{2}$&#10;&#10;LÆ¯U Ã: Bao bá»c cÃ´ng thá»©c LaTeX trong dáº¥u $ ... $ Ä‘á»ƒ hiá»ƒn thá»‹ Ä‘áº¹p"></textarea>
  
  <div class="preview-box">
    <div class="preview-header">ğŸ“ Xem trÆ°á»›c cÃ´ng thá»©c:</div>
    <div id="preview" class="preview-content">GÃµ cÃ´ng thá»©c cÃ³ dáº¥u $ Ä‘á»ƒ xem preview...</div>
  </div>
  
  <button onclick="submitAnswer()">Ná»™p bÃ i (VÄƒn báº£n)</button>

  <div style="margin: 20px auto; padding: 20px; background: #fff; border-radius: 10px; width: 80%;">
    <h3 style="color: #0055aa; margin-bottom: 15px;">ğŸ“¸ Hoáº·c ná»™p bÃ i báº±ng hÃ¬nh áº£nh / file</h3>
    
    <div class="upload-section">
      <div class="upload-option">
        <label class="upload-label">
          <input type="file" id="imageUpload" accept="image/*" style="display: none;" onchange="handleImageUpload(this)">
          <div class="upload-btn">
            ğŸ“· Chá»n áº£nh bÃ i lÃ m
          </div>
        </label>
        <div id="imagePreview" class="image-preview"></div>
        <button id="submitImageBtn" onclick="submitImage()" style="display: none;">Ná»™p bÃ i (HÃ¬nh áº£nh)</button>
      </div>

      <div class="upload-option">
        <label class="upload-label">
          <input type="file" id="fileUpload" accept=".txt,.docx,image/*" style="display: none;" onchange="handleFileUpload(this)">
          <div class="upload-btn">
            ğŸ“„ Chá»n file bÃ i lÃ m
          </div>
        </label>
        <div id="filePreview" class="file-preview"></div>
        <p style="font-size: 12px; color: #666; margin-top: 10px;">Há»— trá»£: .txt, .docx, hÃ¬nh áº£nh</p>
        <button id="submitFileBtn" onclick="submitFile()" style="display: none;">Ná»™p bÃ i (File)</button>
      </div>
    </div>
  </div>
</div>

<!-- Pháº§n TRáº®C NGHIá»†M -->
<div id="tracnghiemBox" style="display:none;">
  <div id="choices">
    <label><input type="radio" name="choice" value="A"> A</label><br>
    <label><input type="radio" name="choice" value="B"> B</label><br>
    <label><input type="radio" name="choice" value="C"> C</label><br>
    <label><input type="radio" name="choice" value="D"> D</label><br>
  </div>
  <button onclick="submitChoice()">Ná»™p bÃ i</button>
</div>


  <div id="question"></div>
  <div id="result"></div>

<!-- Chatbox vá»›i giÃ¡o viÃªn AI -->
<div id="chatToggle" onclick="toggleChat()">
  ğŸ’¬
  <span class="chat-tooltip">Chat vá»›i giÃ¡o viÃªn AI</span>
</div>

<div id="chatBox" class="chat-container">
  <div class="chat-header">
    <span>ğŸ’¬ Chat vá»›i GiÃ¡o viÃªn AI</span>
    <button class="chat-close" onclick="toggleChat()">Ã—</button>
  </div>
  <div class="chat-messages" id="chatMessages">
    <div class="chat-message ai-message">
      <div class="message-content">
        <strong>GiÃ¡o viÃªn AI:</strong> Xin chÃ o! TÃ´i cÃ³ thá»ƒ giÃºp gÃ¬ cho báº¡n? ğŸ˜Š
      </div>
    </div>
  </div>
  <div class="chat-input-container">
    <textarea id="chatInput" placeholder="Nháº­p cÃ¢u há»i cá»§a báº¡n..." rows="2"></textarea>
    <button onclick="sendChatMessage()" class="chat-send-btn">Gá»­i â¤</button>
  </div>
</div>

<script>
  window.MathJax = {
    tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
    svg: { fontCache: 'global' }
  };
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" async></script>
<script src="script.js"></script>
</body>
</html>
